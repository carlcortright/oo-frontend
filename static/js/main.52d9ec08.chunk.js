(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(74)},45:function(e,t,n){},46:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),s=n.n(o),c=(n(45),n(10)),i=n(11),l=n(14),u=n(13),p=n(15),m=(n(46),n(36)),h=n(9),f=n(16),d=n(12),v=n(4),b=n(20),g=n.n(b),j=function(e,t){return g.a.get("http://api.classqa.carl.fun/api/list_questions",{params:{classroom:e,id:t}})},x=function(e){return g.a.post("http://api.classqa.carl.fun/api/create_classroom",{name:e})},O=n(8);function w(){var e=Object(f.a)(["\n    flex: 0 1 800px;\n"]);return w=function(){return e},e}var q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).pollForQuestions=function(){var e=Object(d.a)(n);j(n.state.classname,n.state.last_question).then(function(t){var n=t.data;n.length>0&&e.setState({questions:e.state.questions.concat(n),last_question:n[n.length-1].id})})},n.formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);return t?[t[1]?"+1 ":"","(",t[2],") ",t[3],"-",t[4]].join(""):null},n.createQuestions=function(e){for(var t=[],n=e.length-1;n>=0;n--){var a=e[n].content;t.push(r.a.createElement(v.Card,{fontSize:3,fontWeight:"bold",width:[1,1,1],p:3,my:3,boxShadow:"0 2px 16px rgba(0, 0, 0, 0.25)"},a))}return t},n.state={phone_number:null,questions:[],classname:"",last_question:0},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.classroom;(function(e){var t="http://api.classqa.carl.fun/api/class/"+e;return g.a.get(t)})(t).then(function(n){var a=0;if(n.data.questions.length>0){var r=n.data.questions.length-1;a=n.data.questions[r].id}e.setState({phone_number:n.data.phone_number,questions:n.data.questions,last_question:a,classname:t}),e.timer=setInterval(function(){return e.pollForQuestions()},500)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=null;return 0==this.state.questions.length&&(e=r.a.createElement(v.Heading,{textAlign:"center"},"No questions have been created in this space.")),r.a.createElement("div",null,r.a.createElement(v.Heading,{textAlign:"center",fontSize:[3,4,5,6],p:4},this.formatPhoneNumber(this.state.phone_number)),r.a.createElement(v.Flex,{justifyContent:"center",flexWrap:"wrap"},e,r.a.createElement(E,null,this.createQuestions(this.state.questions))))}}]),t}(a.Component),E=O.default.div(w()),C=q;function y(){var e=Object(f.a)(["\n    width: 100%;\n    font-size: 22px;\n    border-radius: 5px;\n    border: 2px solid #ccc;\n    padding: 3px;\n"]);return y=function(){return e},e}function _(){var e=Object(f.a)(["\n    flex: 0 1 600px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]);return _=function(){return e},e}function k(){var e=Object(f.a)(["\n  height: calc(100vh - 60px);\n"]);return k=function(){return e},e}var S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).createClass=function(){var e=Object(d.a)(n);x(n.state.classname).then(function(t){console.log(t);var n=t.data.class_name;e.props.history.push("/class/"+n)})},n.updateClassname=function(e){n.setState({classname:e.target.value})},n.state={classname:""},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{alignItems:"center",justifyContent:"center",flexWrap:"wrap"},r.a.createElement(Q,null,r.a.createElement(v.Heading,{textAlign:"center",fontSize:[6,8],p:4},"ClassQA"),r.a.createElement(W,{placeholder:"Classroom Name",value:this.state.classname,onChange:this.updateClassname}),r.a.createElement(v.Button,{bg:"#246068",my:3,alignSelf:"center",fontSize:4,onClick:this.createClass},"Create Classroom")))}}]),t}(a.Component),z=Object(O.default)(v.Flex)(k()),Q=O.default.div(_()),W=O.default.input(y()),A=S,B=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(v.Box,{p:3,fontSize:4,width:[1],color:"white",bg:"#246068"},"ClassQA"),r.a.createElement(h.a,{exact:!0,path:"/",component:A}),r.a.createElement(h.a,{path:"/class/:classroom",component:C})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.52d9ec08.chunk.js.map